<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>易天部落格</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="个人博客，写一点东西">
<meta property="og:type" content="website">
<meta property="og:title" content="易天部落格">
<meta property="og:url" content="https://techstay.github.io/my-static-blog/index.html">
<meta property="og:site_name" content="易天部落格">
<meta property="og:description" content="个人博客，写一点东西">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="易天">
<meta property="article:tag" content="编程">
<meta property="article:tag" content="programming">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/my-static-blog/atom.xml" title="易天部落格" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/my-static-blog/css/style.css">

  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/my-static-blog/" id="logo">易天部落格</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/my-static-blog/" id="subtitle">可能什么都写，可能什么都不写</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/my-static-blog/">Home</a>
        
          <a class="main-nav-link" href="/my-static-blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/my-static-blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://techstay.github.io/my-static-blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-翻墙工具trojan-go篇" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2020/10/29/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7trojan-go%E7%AF%87/" class="article-date">
  <time datetime="2020-10-29T11:31:37.000Z" itemprop="datePublished">2020-10-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/my-static-blog/categories/%E7%BF%BB%E5%A2%99/">翻墙</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2020/10/29/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7trojan-go%E7%AF%87/">翻墙工具trojan-go篇</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="trojan-go是什么"><a href="#trojan-go是什么" class="headerlink" title="trojan-go是什么"></a>trojan-go是什么</h2><p>trojan是另外一个很好用的翻墙工具，名气虽然没有影梭大，但是功能也不错。而且trojan设计的时候就考虑到了防范检测的问题，通过HTTPS流量来达到非常安全的翻墙目的，抗干扰性也更好一点。trojan-go就是trojan的一个go语言实现，相较于原版trojan来说配置和使用更加简单，我试了一下效果也很不错，于是来给大家介绍一下。</p>
<h2 id="准备条件：配置域名"><a href="#准备条件：配置域名" class="headerlink" title="准备条件：配置域名"></a>准备条件：配置域名</h2><h3 id="购买和配置域名"><a href="#购买和配置域名" class="headerlink" title="购买和配置域名"></a>购买和配置域名</h3><p>trojan在使用的时候将自己伪装成一个普通的HTTPS网站，普通用户访问的时候，看到的就是一个普通的网页。一旦发现请求的是trojan协议，trojan就开始干正事了。正因为此，trojan的配置比影梭一些，一个必要的步骤就是购买域名，并在自己的服务器上将域名和证书配置好。所以首先就来讲讲如何配置域名。</p>
<p>第一步，去一个域名网站上买一个域名，最好选择国外的网站，如果嫌麻烦，国内的阿里云什么的也行，但是安全性可能要差一点。购买域名之后，在相应网站上配置好域名解析，将域名解析到你的服务器上面。这样第一步就做好了。</p>
<h3 id="申请免费证书"><a href="#申请免费证书" class="headerlink" title="申请免费证书"></a>申请免费证书</h3><p>为了使用HTTPS功能，我们还需要去相应的证书服务商那里申请一个免费证书。这样的网站有很多，不过大部分免费证书时间都只有几个月，到期以后还要自己重新申请一遍，操作比较麻烦。所以这里介绍另外一种方法，利用acme.sh这个脚本来自动化处理过程。该工具的详细用法可以参考<a href="https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener">其wiki</a>。</p>
<p>首先安装acme.sh：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl  https://get.acme.sh | sh</span><br></pre></td></tr></table></figure>

<p>然后需要验证域名，如果你的服务器上现在运行着80端口服务，先把他关掉。然后运行下面的命令，acme.sh会临时启动一个服务器来完成验证过程。验证完毕后就会自动在其目录下生成证书。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme.sh  --issue -d mydomain.com   --standalone</span><br></pre></td></tr></table></figure>

<h3 id="复制证书"><a href="#复制证书" class="headerlink" title="复制证书"></a>复制证书</h3><p>虽然有了证书，但是证书放在acme.sh的内部，还需要将其复制出来。acme.sh也提供了相应的命令。这里假设我们的linux服务器用户名是hello，证书和trojan配置文件放在<code>/home/hello/config/</code>中。那么复制命令应该是这样的：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">acme.sh --install-cert -d example.com \</span><br><span class="line">--key-file       /home/hello/config/key.pem  \</span><br><span class="line">--fullchain-file /home/hello/config/cert.pem \</span><br><span class="line">--reloadcmd     <span class="string">"sudo service nginx force-reload"</span></span><br></pre></td></tr></table></figure>

<p>这样在证书临近到期的时候，acme.sh就会自动开始验证并续期证书，然后将新的证书复制过来。如果指定了最后一行的<code>--reloadcmd</code>，那么还会自动用后面的命令来重新加载服务器，让新证书生效。命令成功运行之后，目录里应该会多出三个pem文件，这就是准备好的证书了。</p>
<h2 id="配置trojan-go服务端"><a href="#配置trojan-go服务端" class="headerlink" title="配置trojan-go服务端"></a>配置trojan-go服务端</h2><h3 id="配置nginx服务器"><a href="#配置nginx服务器" class="headerlink" title="配置nginx服务器"></a>配置nginx服务器</h3><p>好了，下面就是比较麻烦的一个部分了。trojan的配置需要我们服务器上运行两个HTTP服务，一个是80端口服务，用来当做假的HTTP服务器，另一个是1234端口（可以自定义其他端口号）的400状态码服务，用来在trojan协议遇到问题的时候来作为默认错误显示（这可以一定程度上防止防火墙的检测）。所以这里就来配置一下nginx这个东西。这里仍然假设我们linux用户名是hello，nginx的HTML文件是<code>/home/hello/html/index.html</code>。</p>
<p>然后编辑<code>/etc/nginx/sites-enabled/default</code>文件，将文件内容修改成类似下面这样的。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80 default_server;</span><br><span class="line">    listen [::]:80 default_server;</span><br><span class="line"></span><br><span class="line">    root /home/hello/html; <span class="comment"># 这里修改为你的HTML文件存放目录</span></span><br><span class="line"></span><br><span class="line">    index index.html index.htm index.nginx-debian.html;</span><br><span class="line"></span><br><span class="line">    server_name _;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">            try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ =404;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里添加一个新的服务</span></span><br><span class="line">server &#123;</span><br><span class="line">    listen 1234; <span class="comment"># 这里可以自定义端口号</span></span><br><span class="line">    <span class="built_in">return</span> 400;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>至于<code>index.html</code>文件的内容，这个就比较随意了。甚至你可以只写下面一行，不用惊讶，这也是合法的HTML文件，只不过省略了那些标签而已。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>主页<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>配置完毕之后，就可以启动nginx服务器看看效果了，如果配置正确，那么服务器就可以启动，我们就可以在浏览器中使用域名或者IP地址来访问服务了。查看一下80端口号的网页是否可以正常访问，再看看1234端口号是否可以显示400 Bad Request错误页面。验证正确之后，就可以将nginx服务器设为自启状态。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 验证服务器</span><br><span class="line">sudo systemctl <span class="built_in">start</span> nginx</span><br><span class="line"># 验证无误后开机自启</span><br><span class="line">sudo systemctl enable nginx</span><br></pre></td></tr></table></figure>

<h3 id="配置trojan-go服务"><a href="#配置trojan-go服务" class="headerlink" title="配置trojan-go服务"></a>配置trojan-go服务</h3><p>好了，下面终于可以开始配置trojan-go服务了。经过一番研究，我现在比较喜欢docker运行这类服务，一方面docker是一种非常方便的应用分发手段，另一方面，docker有个restart policy参数，允许docker服务在系统启动的同时也一起启动，这样就达到了类似开机自启动的目的，而且还不用配置supervisor那些东西，真的是非常方便。当然docker的问题在于容器内部和外部的配置文件不共通，所以命令看起来就比较冗长，而且如果不熟悉docker的话，可能会遇到一些小问题。所以这里还是建议大家事先学习一下docker的用法，真的非常好用。</p>
<p>前面其实我提到了将证书和trojan配置文件放到一个目录里，这是因为trojan-go的docker镜像会自动使用容器内部的配置文件，所以比较简便的做法就是把容器需要的配置文件放到一起，然后塞到容器里面。docker可以利用<code>-v</code>参数来支持这样的行为。这里的配置文件和证书假设放到<code>/home/hello/config/</code>中，配置文件名字务必是<code>config.json</code>，因为trojan-go默认会以这个名字来读取配置。如果想要了解更多trojan-go配置的话，可以直接参考<a href="https://p4gefau1t.github.io/trojan-go/basic/config/" target="_blank" rel="noopener">它的wiki</a>。</p>
<p>服务端配置文件大体上长这样，主要改一下密码就可以了，保存为<code>config.json</code>即可。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"run_type"</span>: <span class="string">"server"</span>,</span><br><span class="line">    <span class="attr">"local_addr"</span>: <span class="string">"0.0.0.0"</span>,</span><br><span class="line">    <span class="attr">"local_port"</span>: <span class="number">443</span>,</span><br><span class="line">    <span class="attr">"remote_addr"</span>: <span class="string">"localhost"</span>,</span><br><span class="line">    <span class="attr">"remote_port"</span>: <span class="number">80</span>,</span><br><span class="line">    <span class="attr">"password"</span>: [</span><br><span class="line">        <span class="string">"longlonglongpassword"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"ssl"</span>: &#123;</span><br><span class="line">        <span class="attr">"cert"</span>: <span class="string">"/etc/trojan-go/cert.pem"</span>,</span><br><span class="line">        <span class="attr">"key"</span>: <span class="string">"/etc/trojan-go/key.pem"</span>,</span><br><span class="line">        <span class="attr">"fallback_port"</span>: <span class="number">1234</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后就可以使用docker来运行trojan-go服务了，虽然命令看起来挺长的，但是无需操心trojan-go的安装/更新/自启，全部由docker搞定，这也正是docker的魅力。第一次运行可能有错误，所以这里采用<code>--rm</code>参数，一旦停止服务就会删除容器，不留下垃圾，而且日志会在前台打印，方便定位和解决错误。一旦验证发现服务端没有问题，就可以将<code>--rm</code>参数改为<code>-d</code>参数，这样trojan端就可以在后台静静的运行，不用我们操心了。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm --name trojan --restart always \</span><br><span class="line">    -v /home/hello/config/:/etc/trojan-go/ \</span><br><span class="line">    --network host \</span><br><span class="line">    p4gefau1t/trojan-go</span><br></pre></td></tr></table></figure>

<p>验证服务端是否正常运行的方法很简单，直接在浏览器中访问<code>https://你的域名</code>，因为nginx服务器上配置的只有80端口和1234端口，所以如果这里443端口可以正常访问，说明trojan-go服务端已经成功运行了。第一次访问<code>https</code>的时候会多等待几秒，因为trojan会故意停几秒，防止按时间探测的攻击。当然为了保险起见，最好再用客户端连接一下，如果可以正常翻墙，那么就是真的成功了。</p>
<h2 id="配置trojan客户端"><a href="#配置trojan客户端" class="headerlink" title="配置trojan客户端"></a>配置trojan客户端</h2><h3 id="电脑客户端"><a href="#电脑客户端" class="headerlink" title="电脑客户端"></a>电脑客户端</h3><p>从<a href="https://github.com/p4gefau1t/trojan-go/releases" target="_blank" rel="noopener">这里</a>下载trojan-go的客户端，解压。客户端配置文件和服务端类似。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"run_type"</span>: <span class="string">"client"</span>,</span><br><span class="line">    <span class="attr">"local_addr"</span>: <span class="string">"localhost"</span>,</span><br><span class="line">    <span class="attr">"local_port"</span>: <span class="number">1080</span>,</span><br><span class="line">    <span class="attr">"remote_addr"</span>: <span class="string">"你的域名"</span>,</span><br><span class="line">    <span class="attr">"remote_port"</span>: <span class="number">443</span>,</span><br><span class="line">    <span class="attr">"password"</span>: [</span><br><span class="line">        <span class="string">"你的密码"</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后用下面的命令即可运行trojan客户端。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trojan-go.exe -config config.json</span><br></pre></td></tr></table></figure>

<h3 id="移动客户端"><a href="#移动客户端" class="headerlink" title="移动客户端"></a>移动客户端</h3><p>具体参考<a href="https://github.com/trojan-gfw/trojan/wiki/Mobile-Platforms" target="_blank" rel="noopener">这个页面</a>，安卓客户端推荐igniter，开源客户端，使用放心。</p>
<p>配置方法如图所示，SNI不用写，备注随意，域名和密码写服务端对应的即可，底下的三个选项全不选。</p>
<img src="/my-static-blog/2020/10/29/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7trojan-go%E7%AF%87/android.jpg" class="" title="安卓客户端配置">

<p>好吧，关于翻墙工具的介绍就到这里。其实每次写这类文章，我个人也感觉很麻烦，服务端的配置文件一大堆，而且客户端配置文件也一大堆。所以我准备做一个一站式的Web应用，将这些常用的翻墙工具囊括进去，做成可以在Web端轻松管理的工具，同时还可以直接导出客户端配置，到时候也不用在到处找一键配置脚本什么的了。不过这个计划可能要等些时间，到时候也请大家多多支持。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2020/10/29/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7trojan-go%E7%AF%87/" data-id="ckguvtbp40012n4lj1btm3cjd" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2020/10/29/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7trojan-go%E7%AF%87/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/%E4%BB%A3%E7%90%86%E5%B7%A5%E5%85%B7/" rel="tag">代理工具</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/%E7%BF%BB%E5%A2%99/" rel="tag">翻墙</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Ubuntu-18-04-VPS配置教程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2020/03/19/Ubuntu-18-04-VPS%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/" class="article-date">
  <time datetime="2020-03-19T11:26:23.000Z" itemprop="datePublished">2020-03-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/my-static-blog/categories/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2020/03/19/Ubuntu-18-04-VPS%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/">Ubuntu 18.04 VPS配置教程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近我hostwind服务器又不能用了，正好干脆把它重装一下算了。这里简单记录一下重装之后简单的配置过程，以后也好作为参考。</p>
<h2 id="配置系统"><a href="#配置系统" class="headerlink" title="配置系统"></a>配置系统</h2><p>VPS启动之后，只会给你一个root账号，使用root账号工作起来不太安全也不方便，所以肯定需要创建一个自己的账号。选择你喜欢的SSH软件，登录到VPS上。这里我推荐Git for Windows，自带的Git Bash就可以充当SSH的作用。配置好以后简单小巧，使用也方便。关于如何配置Git Bash，稍后就会看到。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@1.2.3.4 -p 22</span><br></pre></td></tr></table></figure>

<p>新的VPS刚刚安装完，还没有更新过，因此第一件事情就是更新系统。以下命令都以root账户执行，所以无需sudo，不过有些命令是我从别处贴过来的，带了sudo，复制粘贴的时候带上也无妨。安装过程中可能会弹出一些提示，简单意思就是新版本的配置文件和当前版本的不一样，询问我们使用哪个。一般情况下选择本地版本（这也是默认选择）即可。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt upgrade</span><br></pre></td></tr></table></figure>

<p>接下来就是区域和时间配置，配置完毕之后，一些软件的提示就会变成中文。我个人比较喜欢这样。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 区域和时间配置</span></span><br><span class="line">sed -i <span class="string">'s/^# zh_CN.UTF-8 UTF-8/zh_CN.UTF-8 UTF-8/g'</span> /etc/locale.gen</span><br><span class="line">locale-gen</span><br><span class="line"><span class="comment"># 这一步可能会出现错误，没关系，等会配置完重启系统在运行一遍即可</span></span><br><span class="line">localectl <span class="built_in">set</span>-locale zh_CN.UTF-8</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'LANG=zh_CN.UTF-8'</span> | sudo tee /etc/locale.conf</span><br><span class="line">sudo timedatectl <span class="built_in">set</span>-timezone Asia/Shanghai</span><br><span class="line">sudo timedatectl <span class="built_in">set</span>-ntp 1</span><br></pre></td></tr></table></figure>

<h2 id="配置用户"><a href="#配置用户" class="headerlink" title="配置用户"></a>配置用户</h2><p>首先需要安装以下软件，下面会用到。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install git zsh</span><br></pre></td></tr></table></figure>

<p>新建账户，ubuntu用的是sudo用户组，而arch用的是wheel组，所以还要注意一下。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd yitian -m -g sudo -s /bin/zsh</span><br><span class="line"><span class="comment"># 别忘了为用户添加密码</span></span><br><span class="line">passwd yitian</span><br></pre></td></tr></table></figure>

<p>如果你喜欢的话，还可以这里干脆把root账号的默认shell改成zsh。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>

<p>默认的zsh其实并不好用，所以需要配置一下。这里简单用antigen包管理器并复制我的配置。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -L git.io/antigen &gt;.antigen.zsh</span><br><span class="line">wget https://raw.githubusercontent.com/techstay/dotfiles/master/zsh/.zshrc</span><br><span class="line">wget https://raw.githubusercontent.com/techstay/dotfiles/master/zsh/.p10k.zsh</span><br></pre></td></tr></table></figure>

<p>对于我们的账户，同样要进行一遍。首先先切换到我们的账户，然后继续。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su - yitian</span><br><span class="line"><span class="comment"># 登录以后应该会出现zsh的选择，选择q，然后继续</span></span><br><span class="line">curl -L git.io/antigen &gt;.antigen.zsh</span><br><span class="line">wget https://raw.githubusercontent.com/techstay/dotfiles/master/zsh/.zshrc</span><br><span class="line">wget https://raw.githubusercontent.com/techstay/dotfiles/master/zsh/.p10k.zsh</span><br></pre></td></tr></table></figure>

<p>前面将用户添加到sudo（或者wheel）组以后，用户就可以使用sudo命令临时获得管理员权限执行一些命令。但是有时候特别是我们个人服务器这样做不太方便，如果你的服务器很安全，而且只有自己用的话，可以将用户设置为无需命令直接sudo执行。当然这样做略有风险，在安全和方便之间请自行权衡。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/sudoers.d/</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$(whoami)</span> ALL=(ALL) NOPASSWD: ALL"</span> | sudo tee <span class="string">"/etc/sudoers.d/<span class="variable">$(whoami)</span>"</span></span><br></pre></td></tr></table></figure>

<p>这样一来VPS就算基本配置好了。</p>
<h2 id="配置密钥登录"><a href="#配置密钥登录" class="headerlink" title="配置密钥登录"></a>配置密钥登录</h2><p>虽然VPS配置好了，但是每次登录还是有点麻烦。所以为了方便，这里推荐启用SSH的密钥登录，无需密码，配合上面的sudo无需密码，你可能很快就会把自己的用户密码给彻底忘掉。</p>
<p>安装好Git之后打开Git Bash。如果你之前没有创建过密钥，推荐先创建一个。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">"your_email@example.com"</span></span><br></pre></td></tr></table></figure>

<p>创建完毕之后，在<code>~/.ssh/</code>下应该会出现<code>id_rsa</code>和<code>id_rsa.pub</code>两个文件，分别是我们创建的私钥和公钥。有了密钥，就可以开始配置了。</p>
<h3 id="手动配置"><a href="#手动配置" class="headerlink" title="手动配置"></a>手动配置</h3><p>这里先介绍一下完全化的手动配置，然后在介绍稍微简单一点的配置。嫌麻烦可以直接看下面。</p>
<p>首先还是登录VPS。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh yitian@1.2.4.5 -p 22</span><br></pre></td></tr></table></figure>

<p>登录之后，找到当前用户的SSH信任文件，路径为<code>~/.ssh/authorized_keys</code>，如果没有则创建。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/.ssh</span><br></pre></td></tr></table></figure>

<p>接下来另开一个本地的Git Bash窗口，然后查看一下我们的公钥，选中点击右键将其复制到剪贴板中。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>

<p>接着上面的linux SSH终端，这次将公钥粘贴到<code>authorized_keys</code>文件中，然后按<code>Ctrl+X</code>并选择Y保存。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano ~/.ssh.authorized_keys</span><br></pre></td></tr></table></figure>

<p>这样以后我们用ssh命令登录VPS的时候，就不需要密码了。</p>
<h3 id="稍微简单一点的手动配置"><a href="#稍微简单一点的手动配置" class="headerlink" title="稍微简单一点的手动配置"></a>稍微简单一点的手动配置</h3><p>上面的配置过程还是有点麻烦，而且配置完以后，每次登录还是得输入又臭又长的ssh命令。有没有更简单的办法呢？当然有，而且用了这种方法以后，你登录VPS仅需敲几个字母，简单到你以后可能没事就想登录VPS看看。</p>
<p>这需要利用SSH提供的配置文件功能。首先在本地打开或创建<code>~/.ssh/config</code>文件。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano ~/.ssh/config</span><br></pre></td></tr></table></figure>

<p>然后添加以下内容，第一段是让所有主机都开启自动保活功能，防止时间长不用终端导致连接断开。第二段就是具体的服务器配置，这里只需要输入用户名和端口号即可。为了安全起见，这里不允许指定密码，而且接下来开启密钥登录之后也不需要密码了。<code>Host</code>右面的名字不一定得是<code>vps</code>，你可以改成自己任意喜欢的名字，当然为了方便最好两三个字母就够了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Host *</span><br><span class="line">    ServerAliveInterval 10</span><br><span class="line">    ServerAliveCountMax 20</span><br><span class="line">Host vps</span><br><span class="line">    Hostname 1.2.3.4</span><br><span class="line">    User yitian</span><br><span class="line">    Port 22</span><br></pre></td></tr></table></figure>

<p>配置完毕之后，你就可以用<code>ssh vps</code>来取代又臭又长的命令<code>ssh yitian@1.2.3.4 -p 22</code>了。</p>
<p>这里我们仅仅让登录时候能少输入几个字母，密钥登录还是没配置完。接下来就来配置SSH登录。其实这个配置也很简单，SSH自带了一个简化命令，自动读取公钥并复制到服务器中，仅仅需要下面的命令即可。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id yitian@1.2.3.4 -p 22</span><br></pre></td></tr></table></figure>

<p>ssh-copy-id和ssh是一家，所以其实不用这么麻烦。配置了服务器信息之后，可以直接用<code>ssh-copy-id vps</code>来复制公钥。</p>
<p>完成之后，我们以后登录VPS的时候，仅需要输入<code>ssh vps</code>即可，是不是非常方便呢？</p>
<h2 id="安装Meslo-NF字体"><a href="#安装Meslo-NF字体" class="headerlink" title="安装Meslo NF字体"></a>安装Meslo NF字体</h2><p>如果你直接用了我前面的zsh主题，使用终端的时候会发现一大堆乱码。我配置的主题使用了增强的字体，所以如果你没有安装对应字体，显示就会乱码。解决办法很简单就，安装Meslo NF字体即可。</p>
<p>复制下面的链接下载字体。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;ryanoasis&#x2F;nerd-fonts&#x2F;releases&#x2F;download&#x2F;v2.1.0&#x2F;Meslo.zip</span><br></pre></td></tr></table></figure>

<p>解压之后，全选，点击右键安装字体。然后在Git Bash左上角右键点击，然后选择Option，然后找到Fonts，将字体改成MesloLGS NF字体。</p>
<img src="/my-static-blog/2020/03/19/Ubuntu-18-04-VPS%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/GitBash%E5%AD%97%E4%BD%93%E4%BF%AE%E6%94%B9.png" class="" title="GitBash修改字体">

<p>这时候再看看，是不是发现终端主题非常酷呢。</p>
<img src="/my-static-blog/2020/03/19/Ubuntu-18-04-VPS%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E6%95%88%E6%9E%9C.png" class="" title="主题效果">

<h2 id="配置影梭"><a href="#配置影梭" class="headerlink" title="配置影梭"></a>配置影梭</h2><p>众所周知，VPS就是用来翻墙的，这里在介绍一下如何配置影梭。传统配置方法需要安装<code>shadowsocks-libev</code>，然后编辑配置文件并启动，这样稍微有点麻烦，而且不能方便的支持kcp等加速协议。所以这里我为大家介绍一个更简单的配置办法，利用docker和gost，使用我编写的脚本，自动配置并启动服务端。</p>
<h3 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h3><p>首先需要安装docker。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install docker.io</span><br></pre></td></tr></table></figure>

<p>然后将用户添加到docker组中，这样以后使用docker的时候无需sudo权限即可执行命令。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gpasswd docker -a $(whoami)</span><br></pre></td></tr></table></figure>

<p>然后启动docker服务，并令其开机自启。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure>

<p>配置完毕之后，退出终端重新登录一下。然后运行下面的命令，看看能否正常运行，成功以后，就可以进行下一步了。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm hello-world</span><br></pre></td></tr></table></figure>

<h3 id="使用gost-ss脚本启动服务"><a href="#使用gost-ss脚本启动服务" class="headerlink" title="使用gost_ss脚本启动服务"></a>使用gost_ss脚本启动服务</h3><p>gost_ss是我写的一个利用docker和gost便捷启动影梭服务的脚本，支持影梭和影梭+kcp两种模式。使用方法很简单，首先下载脚本。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/techstay/climbthewall/master/gost_ss.py</span><br></pre></td></tr></table></figure>

<p>然后看看脚本的命令行参数。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 gost_ss.py -h</span><br></pre></td></tr></table></figure>

<p><code>-password</code>和<code>-port</code>参数是可选的，如果不指定会自动随机生成。如果指定了<code>-k</code>参数则使用kcp协议，如果使用kcp协议的话，还可以使用<code>-mode</code>参数指定kcp协议的模式。一般情况下我们的VPS每个月流量可能有500G-1T之间，而一个人用的话，也就用50G左右，根本用不完。所以可以将模式指定为<code>fast3</code>来获取最好的加速效果，相对应的，流量消耗最多。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 gost_ss.py -k -mode fast3</span><br></pre></td></tr></table></figure>

<p>运行成功之后，脚本会显示出对应的客户端配置。linux用户的话，保存linux配置命令行。安卓等用户的话，复制配置字符串即可。当然如果你用kcp的话，需要客户端支持才行（例如安卓端安装kcp插件）。如果不懂的话，可以先配置影梭，以后再慢慢研究kcp。也可以看我博客那篇配置影梭的文章，里面介绍了客户端如何配置kcp。</p>
<p>好了，下面你应该可以享受自己的VPS了。如果有兴趣的话，还可以买个域名，然后自己搭个网站什么的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2020/03/19/Ubuntu-18-04-VPS%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/" data-id="ckguvtboj0006n4lj0egu7ph9" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2020/03/19/Ubuntu-18-04-VPS%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/linux/" rel="tag">linux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-各大发行版软件源镜像配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2020/02/26/%E5%90%84%E5%A4%A7%E5%8F%91%E8%A1%8C%E7%89%88%E8%BD%AF%E4%BB%B6%E6%BA%90%E9%95%9C%E5%83%8F%E9%85%8D%E7%BD%AE/" class="article-date">
  <time datetime="2020-02-26T12:53:57.000Z" itemprop="datePublished">2020-02-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/my-static-blog/categories/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2020/02/26/%E5%90%84%E5%A4%A7%E5%8F%91%E8%A1%8C%E7%89%88%E8%BD%AF%E4%BB%B6%E6%BA%90%E9%95%9C%E5%83%8F%E9%85%8D%E7%BD%AE/">各大发行版软件源镜像配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近研究Linux，试了一些Linux发行版，但是大多数发行版的软件源速度都不是很理想。所以我这里干脆做了一个收集，把我用过的一些常用发行版的软件源设置方法做个总结，大家也可以做个参考。</p>
<h2 id="Ubuntu-18-04"><a href="#Ubuntu-18-04" class="headerlink" title="Ubuntu 18.04"></a>Ubuntu 18.04</h2><p>18.04是目前Ubuntu最新的长期支持版。当然我非常期待4月份推出的20.04长期支持版，支持wireguard这一点就非常吸引人。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 备份官方镜像</span></span><br><span class="line">cp /etc/apt/sources.list /etc/apt/sources.list.backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用清华镜像源</span></span><br><span class="line">tee /etc/apt/sources.list &lt;&lt;EOL</span><br><span class="line"><span class="comment"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span></span><br><span class="line">EOL</span><br></pre></td></tr></table></figure>

<h2 id="openSUSE-tumbleweed"><a href="#openSUSE-tumbleweed" class="headerlink" title="openSUSE tumbleweed"></a>openSUSE tumbleweed</h2><p>openSUSE tumbleweed是openSUSE的滚动更新版本，如果你喜欢尝试最新的软件，推荐使用这个版本。manjaro的字体渲染有些问题，所以我现在又找到了openSUSE这个滚动发行版，除了包管理器比pacman慢一点，其他的感觉都很好。当然最好在yast管理程序里关闭官方镜像源，不然他默认还是从官方镜像源开始下载。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加清华镜像源</span></span><br><span class="line">zypper addrepo -f https://mirrors.tuna.tsinghua.edu.cn/opensuse/tumbleweed/repo/oss/ tsinghua_oss</span><br><span class="line">zypper addrepo -f https://mirrors.tuna.tsinghua.edu.cn/opensuse/tumbleweed/repo/non-oss/ tsinghua_nonoss</span><br></pre></td></tr></table></figure>

<h2 id="Arch"><a href="#Arch" class="headerlink" title="Arch"></a>Arch</h2><p>Arch是一个非常流行的滚动发行版，具有软件源新、高度可定制的特性。当然因为定制性太高了，连桌面什么的都要自己装自己配，所以最后我还是不用Arch了。但是虚拟机里的Arch是真的好用，不装图形界面，启动快更新快，还能体会到最新的软件。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加清华镜像源和网易镜像源</span></span><br><span class="line">sed -i <span class="string">'1i Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch'</span> /etc/pacman.d/mirrorlist</span><br><span class="line">sed -i <span class="string">'2i Server = https://mirrors.163.com/archlinux/$repo/os/$arch'</span> /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure>

<h2 id="Manjaro"><a href="#Manjaro" class="headerlink" title="Manjaro"></a>Manjaro</h2><p>Manjaro是基于Arch开发的衍生发行版，不仅具有Arch的优点，而且添加了预配置的图形界面，用户可以向使用Ubuntu那样轻松得到一个开箱即用的桌面版Linux系统。缺点就是和Arch一样太激进了，装双系统的话时间长了再更新系统的话，很容易出现一堆软件包冲突更新失败的情况。Manjaro自带了镜像源配置工具，所以不需要我们手动编辑配置文件，简单调用工具将镜像源设置为中国即可。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman-mirrors -c China</span><br></pre></td></tr></table></figure>

<h2 id="Fedora"><a href="#Fedora" class="headerlink" title="Fedora"></a>Fedora</h2><p>Fedora默认的GNOME桌面我感觉很丑，所以最后还是放弃了。不过Fedora作为发行版来说还是可以的，虽然是固定版本发行的，但是软件更新速度也很快。新版内核、软件之类的很快就可以获取到。这一点上和滚动发行版没有什么太大差别。这里列出的是Fedora 28及更新版本的配置方法，旧版本配置请参考清华官方镜像源的配置说明。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 备份旧配置</span></span><br><span class="line">cp /etc/yum.repos.d/fedora.repo /etc/yum.repos.d/fedora.repo.backup</span><br><span class="line">cp /etc/yum.repos.d/fedora-updates.repo /etc/yum.repos.d/fedora-updates.repo.backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用清华镜像源</span></span><br><span class="line">tee /etc/yum.repos.d/fedora.repo &lt;&lt;EOL</span><br><span class="line">[fedora]</span><br><span class="line">name=Fedora \<span class="variable">$releasever</span> - \<span class="variable">$basearch</span></span><br><span class="line">failovermethod=priority</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/fedora/releases/\<span class="variable">$releasever</span>/Everything/\<span class="variable">$basearch</span>/os/</span><br><span class="line">metadata_expire=28d</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-\<span class="variable">$releasever</span>-\<span class="variable">$basearch</span></span><br><span class="line">skip_if_unavailable=False</span><br><span class="line">EOL</span><br><span class="line"></span><br><span class="line">tee /etc/yum.repos.d/fedora-updates.repo &lt;&lt;EOL</span><br><span class="line">[updates]</span><br><span class="line">name=Fedora \<span class="variable">$releasever</span> - \<span class="variable">$basearch</span> - Updates</span><br><span class="line">failovermethod=priority</span><br><span class="line">baseurl=https://mirrors.tuna.tsinghua.edu.cn/fedora/updates/\<span class="variable">$releasever</span>/Everything/\<span class="variable">$basearch</span>/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=1</span><br><span class="line">metadata_expire=6h</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-\<span class="variable">$releasever</span>-\<span class="variable">$basearch</span></span><br><span class="line">skip_if_unavailable=False</span><br><span class="line">EOL</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2020/02/26/%E5%90%84%E5%A4%A7%E5%8F%91%E8%A1%8C%E7%89%88%E8%BD%AF%E4%BB%B6%E6%BA%90%E9%95%9C%E5%83%8F%E9%85%8D%E7%BD%AE/" data-id="ckguvtbor000hn4lj7mwvccgi" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2020/02/26/%E5%90%84%E5%A4%A7%E5%8F%91%E8%A1%8C%E7%89%88%E8%BD%AF%E4%BB%B6%E6%BA%90%E9%95%9C%E5%83%8F%E9%85%8D%E7%BD%AE/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/linux/" rel="tag">linux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-翻墙工具wireguard篇" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2020/02/10/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7wireguard%E7%AF%87/" class="article-date">
  <time datetime="2020-02-10T13:01:48.000Z" itemprop="datePublished">2020-02-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/my-static-blog/categories/%E7%BF%BB%E5%A2%99/">翻墙</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2020/02/10/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7wireguard%E7%AF%87/">翻墙工具wireguard篇</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="wireguard是什么"><a href="#wireguard是什么" class="headerlink" title="wireguard是什么"></a>wireguard是什么</h2><p>wireguard是一个全新的高性能的VPN，使用最新的技术实现的强大VPN。它设计精巧，核心代码仅4000多行，被Linux之父林纳斯亲切的称为“艺术品”，可见wireguard是多么的优秀。所以如果有使用VPN需求的话，可以考虑使用wireguard。</p>
<h2 id="安装wireguard"><a href="#安装wireguard" class="headerlink" title="安装wireguard"></a>安装wireguard</h2><p>wireguard安装起来稍微有些麻烦，因为它需要内核的支持，所以如果你是OpenVZ架构的VPS的话，基本不用想了，万年2.7的内核，什么也干不了。</p>
<p>Ubuntu 18.04目前可以通过手动安装的方式来使用wireguard。等到今年4月份，Ubuntu 20.04长期支持版出来以后，我们就有原生的wireguard可以使用了。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ubuntu 19.10及更新的系统</span></span><br><span class="line">$ sudo apt install wireguard</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu 19.04及更旧的系统</span></span><br><span class="line">$ sudo add-apt-repository ppa:wireguard/wireguard</span><br><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install wireguard</span><br></pre></td></tr></table></figure>

<p>这里注意一下，如果你用的是搬瓦工的的VPS，可能会提示<code>add-apt-repository</code>命令未找到，这需要安装另外一个包才可以正常使用。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install software-properties-common</span><br></pre></td></tr></table></figure>

<p>Arch系发行版因为一直都是滚动更新，所以安装wireguard十分简单，随系统更新新版本内核，然后安装一下wireguard的命令行工具即可。</p>
<h2 id="配置wireguard"><a href="#配置wireguard" class="headerlink" title="配置wireguard"></a>配置wireguard</h2><p>说实话这里耗费了我不少时间，因为和一般程序服务端、客户端配置文件不同，wireguard是点对点的，而且涉及到了一些网络和防火墙的配置，所以导致我很不理解配置文件的各项含义。</p>
<p>不过熟悉了之后，我完全可以表示，wireguard配置起来一点也不难，相对于OpenVpn之类的甚至还简单多了。为了省事我这里还写了一个配置脚本，自动生成wireguard配置文件和客户端配置文件，方便大家使用。</p>
<p>这里简单复制一下脚本，大家看看内容就明白了，配置起来很简单，顶多修改一下端口号就行了。密钥对都是随机生成的，绝对安全可靠。当然脚本后续可能更新，如果想要最新版的话，请大家关注我的<a href="https://github.com/techstay/climbthewall" target="_blank" rel="noopener">Gitub项目</a>。</p>
<p>使用脚本文件也很简单，直接下载我项目中的最新版脚本，用bash运行即可，注意事项写在项目的README中了，大家注意一下即可。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/techstay/climbthewall/master/wg.sh</span><br><span class="line">bash wg.sh</span><br></pre></td></tr></table></figure>

<p>以下是脚本文件内容。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">config_dir=<span class="string">"<span class="variable">$HOME</span>/.wireguard/"</span></span><br><span class="line"></span><br><span class="line">mkdir -p <span class="string">"<span class="variable">$config_dir</span>"</span></span><br><span class="line"><span class="built_in">cd</span> <span class="string">"<span class="variable">$config_dir</span>"</span> || &#123;</span><br><span class="line">    <span class="built_in">echo</span> 切换目录失败，程序退出</span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 生成两对密钥，分别用作服务器和客户端使用</span></span><br><span class="line">wg genkey | tee pri1 | wg pubkey &gt;pub1</span><br><span class="line">wg genkey | tee pri2 | wg pubkey &gt;pub2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置密钥访问权限</span></span><br><span class="line">chmod 600 pri1</span><br><span class="line">chmod 600 pri2</span><br><span class="line"></span><br><span class="line">interface=$(ip -o -4 route show to default | awk <span class="string">'&#123;print $5&#125;'</span>)</span><br><span class="line">ip=$(ip -4 addr show <span class="string">"<span class="variable">$interface</span>"</span> | grep -oP <span class="string">'(?&lt;=inet\s)\d+(\.\d+)&#123;3&#125;'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成服务端配置文件</span></span><br><span class="line">cat &gt;wg0.conf &lt;&lt;EOL</span><br><span class="line">[Interface]</span><br><span class="line">PrivateKey = $(cat pri1)</span><br><span class="line">Address = 10.10.10.1</span><br><span class="line">ListenPort = 54321</span><br><span class="line">PostUp   = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -A FORWARD -o wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o <span class="variable">$interface</span> -j MASQUERADE</span><br><span class="line">PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -D FORWARD -o wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o <span class="variable">$interface</span> -j MASQUERADE</span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = $(cat pub2)</span><br><span class="line">AllowedIPs = 10.10.10.2/32</span><br><span class="line">EOL</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成客户端配置文件</span></span><br><span class="line">cat &gt;client.conf &lt;&lt;EOL</span><br><span class="line">[Interface]</span><br><span class="line">PrivateKey = $(cat pri2)</span><br><span class="line">Address = 10.10.10.2</span><br><span class="line">DNS = 8.8.8.8</span><br><span class="line"></span><br><span class="line">[Peer]</span><br><span class="line">PublicKey = $(cat pub1)</span><br><span class="line">Endpoint = <span class="variable">$ip</span>:54321</span><br><span class="line">AllowedIPs = 0.0.0.0/0</span><br><span class="line">EOL</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制配置文件并启动</span></span><br><span class="line">sudo cp wg0.conf /etc/wireguard/ || &#123;</span><br><span class="line">    <span class="built_in">echo</span> 复制失败,请检查/etc/wireguard目录或wg0.conf是否已经存在</span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line">&#125;</span><br><span class="line">sudo wg-quick up wg0 || &#123;</span><br><span class="line">    <span class="built_in">echo</span> 启动wireguard失败，请检查/etc/wireguard/wg0.conf是否存在错误</span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示客户端配置文件</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------以下是客户端配置文件，请保存并在客户端中使用----------"</span></span><br><span class="line">cat client.conf</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2020/02/10/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7wireguard%E7%AF%87/" data-id="ckguvtbp60015n4ljcf7v7nye" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2020/02/10/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7wireguard%E7%AF%87/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/%E4%BB%A3%E7%90%86%E5%B7%A5%E5%85%B7/" rel="tag">代理工具</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/%E7%BF%BB%E5%A2%99/" rel="tag">翻墙</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-shadowsocks安装和配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2020/01/21/shadowsocks%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/" class="article-date">
  <time datetime="2020-01-21T12:33:41.000Z" itemprop="datePublished">2020-01-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/my-static-blog/categories/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2020/01/21/shadowsocks%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/">shadowsocks安装和配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="shadowsocks-libev配置"><a href="#shadowsocks-libev配置" class="headerlink" title="shadowsocks-libev配置"></a>shadowsocks-libev配置</h2><h3 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h3><p>以下配置全部以Ubuntu系统为例。首先安装shadowsocks：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install shadowsocks-libev</span><br></pre></td></tr></table></figure>

<p>安装完成之后编辑配置文件<code>/etc/shadowsocks-libev/config.json</code>，改成类似下面的内容。其中端口号port以及密码password需要修改，其他配置无需变动。特别提一点，原来默认的aes-256-cfb有安全漏洞，所以推荐使用下面的全新协议chacha20-ietf-poly1305.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"server"</span>:[<span class="string">"::0"</span>, <span class="string">"0.0.0.0"</span>],</span><br><span class="line">    <span class="attr">"server_port"</span>:<span class="number">12345</span>,</span><br><span class="line">    <span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">    <span class="attr">"password"</span>:<span class="string">"123456"</span>,</span><br><span class="line">    <span class="attr">"timeout"</span>:<span class="number">60</span>,</span><br><span class="line">    <span class="attr">"method"</span>:<span class="string">"chacha20-ietf-poly1305"</span>,</span><br><span class="line">    <span class="attr">"fast_open"</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"prefer_ipv6"</span>:<span class="literal">true</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置完成之后启动服务端。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start shadowsocks-libev-server@config</span><br></pre></td></tr></table></figure>

<p>然后查看一下服务状态，如果成功运行的话，使用客户端连接，看看能否科学上网。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status shadowsocks-libev-server@config</span><br></pre></td></tr></table></figure>

<p>成功连接上的话，就可以让服务开机自启动了，这样以后我们就不用管它了。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> shadowsocks-libev-server@config</span><br></pre></td></tr></table></figure>

<h3 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h3><p>虽然一般我们都是用windows客户端或者安卓客户端之类的来连接，但是既然提到了，就顺便说一下shadowsocks-libev客户端的配置方法吧。首先还是需要一个配置文件<code>/etc/shadowsocks-libev/config.json</code>。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"server"</span>:[<span class="string">"这里改成你的服务器的IP地址"</span>],</span><br><span class="line">    <span class="attr">"server_port"</span>:<span class="number">12345</span>,</span><br><span class="line">    <span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">    <span class="attr">"password"</span>:<span class="string">"123456"</span>,</span><br><span class="line">    <span class="attr">"timeout"</span>:<span class="number">60</span>,</span><br><span class="line">    <span class="attr">"method"</span>:<span class="string">"chacha20-ietf-poly1305"</span>,</span><br><span class="line">    <span class="attr">"fast_open"</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"prefer_ipv6"</span>:<span class="literal">true</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后启动客户端服务。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start shadowsocks-libev-local@config</span><br><span class="line"><span class="comment"># 成功之后让客户端服务开机自启</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> shadowsocks-libev-local@config</span><br></pre></td></tr></table></figure>

<h3 id="Windows客户端配置"><a href="#Windows客户端配置" class="headerlink" title="Windows客户端配置"></a>Windows客户端配置</h3><p>这里推荐的是影梭Windows版，一个利用.NET实现的小软件，直接就可以在<a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="noopener">Github</a>下载到。</p>
<p>然后打开软件，由于是图形界面配置，这里我就不介绍了，是个人就会用。</p>
<img src="/my-static-blog/2020/01/21/shadowsocks%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/%E5%BD%B1%E6%A2%AD%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%85%8D%E7%BD%AE.png" class="" title="影梭客户端配置">

<h2 id="gost配置"><a href="#gost配置" class="headerlink" title="gost配置"></a>gost配置</h2><p><a href="https://github.com/ginuerzh/gost" target="_blank" rel="noopener">gost</a>是go语言实现的一个安全隧道，可以用来做很多事情。而且它还非常贴心的内置了影梭协议，用起来比shadowsocks-libev更加方便，而且支持kcp等其他一些协议。</p>
<h3 id="服务端配置-1"><a href="#服务端配置-1" class="headerlink" title="服务端配置"></a>服务端配置</h3><p>gost有中文官方，介绍的非常详细，这里就不多做介绍了。gost是一个单纯的命令行工具，而且并不是每个发行版的软件仓库中都有gost。所以最简单的办法就是利用docker来运行gost，恰好docker可以通过配置重启策略的方式来达到类似于自启服务的效果。</p>
<p>先来安装docker。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装docker</span></span><br><span class="line">sudo apt install docker.io</span><br><span class="line"><span class="comment"># 将用户添加到docker用户组中，方便直接执行命令无需管理员权限</span></span><br><span class="line">sudo gpasswd docker -a $(whoami)</span><br><span class="line"><span class="comment"># 启动docker</span></span><br><span class="line">sudo systemctl start docker</span><br><span class="line"><span class="comment"># 设置docker开机自启</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure>

<p>以上命令成功执行以后，测试一下docker是否可以正常启动。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm hello-world</span><br></pre></td></tr></table></figure>

<p>然后安装gost镜像。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull ginuerzh/gost</span><br></pre></td></tr></table></figure>

<p>然后就可以启动gost服务了。如果你不熟悉docker的话，可以先用下面的命令试试，它结束之后会自动删除docker容器，不用担心有残留文件。命令在前台运行成功之后，在客户端中测试一下，看看能否成功上网。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm \</span><br><span class="line">    --net=host \</span><br><span class="line">    ginuerzh/gost -L=ss://AEAD_CHACHA20_POLY1305:password@:8338</span><br></pre></td></tr></table></figure>

<p>等到测试成功之后，用<code>Ctrl-C</code>停止容器，因为它有<code>--rm</code>参数，所以停止后会自动销毁。然后改用这个命令让容器在后台持续运行，并在docker服务重启或者系统重启之后自动跟着重启。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">    --net=host \</span><br><span class="line">    --restart=always \</span><br><span class="line">    ginuerzh/gost -L=ss://AEAD_CHACHA20_POLY1305:password@:8338</span><br></pre></td></tr></table></figure>

<p>这里建议大家学习一下docker的用法，一来他也算个重要的软件，二来以后应该会经常和docker容器打交道，如果不熟悉的话，遇到问题还是不太好解决的。</p>
<h3 id="客户端配置-1"><a href="#客户端配置-1" class="headerlink" title="客户端配置"></a>客户端配置</h3><p>服务端运行成功之后，就可以使用客户端来连接了。gost的影梭协议完全兼容shadowsocks-libev，所以可以直接用它来连接，配置方法如上。</p>
<p>如果你用linux服务端的话，也可以像配置服务端一样来配置客户端。安装方法和上面一样，用docker方式安装即可。直接来看看如何用docker来运行客户端连接吧。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">    --net=host \</span><br><span class="line">    --restart=always \</span><br><span class="line">    ginuerzh/gost -L=:10800 -F=ss://AEAD_CHACHA20_POLY1305:password@server_ip:8338</span><br></pre></td></tr></table></figure>

<h2 id="启用kcp协议加速"><a href="#启用kcp协议加速" class="headerlink" title="启用kcp协议加速"></a>启用kcp协议加速</h2><h3 id="kcp默认配置"><a href="#kcp默认配置" class="headerlink" title="kcp默认配置"></a>kcp默认配置</h3><p>gost内置了kcp协议的支持，使用kcp非常简单，只需要在协议那里添加<code>+kcp</code>即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">    --net=host --restart=always \</span><br><span class="line">        ginuerzh/gost -L=ss+kcp://AEAD_CHACHA20_POLY1305:123456@:12222</span><br></pre></td></tr></table></figure>

<p>gost客户端也需要做相应的修改。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">    --net=host --restart=always \</span><br><span class="line">        ginuerzh/gost -L :1080 \</span><br><span class="line">         -F=ss+kcp://AEAD_CHACHA20_POLY1305:123456@1.2.3.4:12222</span><br></pre></td></tr></table></figure>

<p>这种方式启动的kcp使用的是默认配置，对应的配置文件如下。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"key"</span>: <span class="string">"it's a secrect"</span>,</span><br><span class="line">    <span class="attr">"crypt"</span>: <span class="string">"aes"</span>,</span><br><span class="line">    <span class="attr">"mode"</span>: <span class="string">"fast"</span>,</span><br><span class="line">    <span class="attr">"mtu"</span> : <span class="number">1350</span>,</span><br><span class="line">    <span class="attr">"sndwnd"</span>: <span class="number">1024</span>,</span><br><span class="line">    <span class="attr">"rcvwnd"</span>: <span class="number">1024</span>,</span><br><span class="line">    <span class="attr">"datashard"</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="attr">"parityshard"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">"dscp"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"nocomp"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"acknodelay"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"nodelay"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"interval"</span>: <span class="number">40</span>,</span><br><span class="line">    <span class="attr">"resend"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"nc"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"sockbuf"</span>: <span class="number">4194304</span>,</span><br><span class="line">    <span class="attr">"keepalive"</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="attr">"snmplog"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attr">"snmpperiod"</span>: <span class="number">60</span>,</span><br><span class="line">    <span class="attr">"tcp"</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自定义kcp配置"><a href="#自定义kcp配置" class="headerlink" title="自定义kcp配置"></a>自定义kcp配置</h3><p>如果你的VPS只有自己用的话，可以考虑将加速模式改成fast2或者fast3，来增强加速效果，相对应地，流量消耗也会增大。不过根据我几年的VPS使用经验来看，一般一个月1T的流量，我平时最多用个50G，照这个用法，就算有个fast10模式，也不用担心流量。例如我有下面的配置文件。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"key"</span>: <span class="string">"it's a secrect"</span>,</span><br><span class="line">    <span class="attr">"crypt"</span>: <span class="string">"aes"</span>,</span><br><span class="line">    <span class="attr">"mode"</span>: <span class="string">"fast3"</span>,</span><br><span class="line">    <span class="attr">"mtu"</span> : <span class="number">1350</span>,</span><br><span class="line">    <span class="attr">"sndwnd"</span>: <span class="number">1024</span>,</span><br><span class="line">    <span class="attr">"rcvwnd"</span>: <span class="number">1024</span>,</span><br><span class="line">    <span class="attr">"datashard"</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="attr">"parityshard"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">"dscp"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"nocomp"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"acknodelay"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"nodelay"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"interval"</span>: <span class="number">40</span>,</span><br><span class="line">    <span class="attr">"resend"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"nc"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"sockbuf"</span>: <span class="number">4194304</span>,</span><br><span class="line">    <span class="attr">"keepalive"</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="attr">"snmplog"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attr">"snmpperiod"</span>: <span class="number">60</span>,</span><br><span class="line">    <span class="attr">"tcp"</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>把上面的配置文件保存为<code>~/.kcp/kcp.json</code>文件。然后运行服务端的时候手动指定配置文件。注意shell会转义<code>?</code>字符，所以整个参数需要用单引号括起来。后面使用<code>?c=xxx.json</code>的时候同样需要注意这个问题。因为容器的文件系统和本地的文件系统并不一致，所以需要<code>-v</code>参数将文件传递到容器内部，因此命令看起来稍微复杂一点。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">    --net=host --restart=always \</span><br><span class="line">    -v ~/.kcp/kcp.json:/kcp.json \</span><br><span class="line">        ginuerzh/gost <span class="string">'-L=ss+kcp://AEAD_CHACHA20_POLY1305:123456@:12222?c=/kcp.json'</span></span><br></pre></td></tr></table></figure>

<p>同样地，客户端命令也需要变成这种形式。当然，客户端需要同样的配置文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">    --net=host --restart=always \</span><br><span class="line">    -v ~/.kcp/kcp.json:/kcp.json \</span><br><span class="line">        ginuerzh/gost \</span><br><span class="line">        -L=:10800 \</span><br><span class="line">        <span class="string">'-F=ss+kcp://AEAD_CHACHA20_POLY1305:123456@1.2.3.4:12222?c=/kcp.json'</span></span><br></pre></td></tr></table></figure>

<h3 id="Windows客户端配置-1"><a href="#Windows客户端配置-1" class="headerlink" title="Windows客户端配置"></a>Windows客户端配置</h3><p>默认情况下影梭的Windows客户端不支持kcptun，所以需要进行额外配置。</p>
<p>首先下载<a href="https://github.com/xtaci/kcptun/releases" target="_blank" rel="noopener">kcptun</a>，然后将<code>client_windows_amd64.exe</code>重命名为<code>kcptun.exe</code>，然后把它放到影梭程序的同级目录下。</p>
<img src="/my-static-blog/2020/01/21/shadowsocks%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/%E5%BD%B1%E6%A2%AD%E6%96%87%E4%BB%B6%E5%A4%B9.png" class="" title="影梭文件夹">

<p>然后在服务器编辑对话框中额外添加几个参数。</p>
<ul>
<li>插件程序，就是刚刚改完名字的kcptun。如果不和影梭在同一目录的话，需要改成绝对路径。</li>
<li>插件选项，你改了多少项默认配置，这里就要添加多少项。所以为了省事，我建议只改一下mode。</li>
<li>需要命令行参数的对勾必须打上，然后在对话框中添加<code>-l %SS_LOCAL_HOST%:%SS_LOCAL_PORT% -r %SS_REMOTE_HOST%:%SS_REMOTE_PORT%</code>。这样IP、端口号等参数就会传递给kcptun。</li>
</ul>
<img src="/my-static-blog/2020/01/21/shadowsocks%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/%E6%8F%92%E4%BB%B6%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE.png" class="" title="插件参数配置">

<p>配置完毕之后，应该就可以连接了。测试一下，速度应该比裸的影梭更快。</p>
<h2 id="脚本快捷配置"><a href="#脚本快捷配置" class="headerlink" title="脚本快捷配置"></a>脚本快捷配置</h2><p>我有个计划，准备编写一个脚本来帮助快速配置程序并生成相应的客户端配置信息。不过脚本编写过程中，因为想得太多，最后脚本难产了。后来我又重新缕了一下需求，把实现比较困难的去掉了，最后终于把脚本写出来了。大家可以试用一下。</p>
<p>脚本使用Python写成，使用的时候要保证无需管理员权限即可运行docker命令。脚本运行成功之后，会显示gost以及影梭客户端的配置文件，方便用户在客户端上配置。为了方便起见，在脚本中我没有提供设置其他kcp参数的选项，可以设置的只有mode参数，这也是比较常用的一个参数。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载脚本</span></span><br><span class="line">wget https://raw.githubusercontent.com/techstay/climbthewall/master/gost_ss.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用python运行脚本</span></span><br><span class="line">python gost_ss.py -h</span><br><span class="line">usage: gost_ss.py [-h] [-password PASSWORD] [-port PORT] [-k] [-mode &#123;fast,fast2,fast3&#125;]</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>            show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  -password PASSWORD    密码，未指定则使用随机密码</span><br><span class="line">  -port PORT            端口号，未指定则使用随机端口号</span><br><span class="line"></span><br><span class="line">kcp:</span><br><span class="line">  -k                    是否使用kcp协议加速</span><br><span class="line">  -mode &#123;fast,fast2,fast3&#125;</span><br><span class="line">                        kcp协议的加速模式，流量充足可使用fast3</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2020/01/21/shadowsocks%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/" data-id="ckguvtbol000an4lje4eeetky" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2020/01/21/shadowsocks%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/gost/" rel="tag">gost</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/shadowsocks/" rel="tag">shadowsocks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/%E5%BD%B1%E6%A2%AD/" rel="tag">影梭</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Github-Desktop-cannot-run-gpg-No-such-file-or-directory-的解决办法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2020/01/21/Github-Desktop-cannot-run-gpg-No-such-file-or-directory-%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" class="article-date">
  <time datetime="2020-01-20T18:11:54.000Z" itemprop="datePublished">2020-01-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/my-static-blog/categories/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/">疑难杂症</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2020/01/21/Github-Desktop-cannot-run-gpg-No-such-file-or-directory-%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">Github Desktop cannot run gpg: No such file or directory 的解决办法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>给Git配置了gpg密钥验证之后，使用Github桌面客户端的时候却出现了如题的错误。其实解决办法也很简单，因为虽然Git Bash自带了gpg工具，但是Github Desktop却不知道啊，所以解决办法很简单，在配置文件里写一下告诉Github客户端就好了。</p>
<p>运行下面命令即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global gpg.program $(<span class="built_in">which</span> gpg)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2020/01/21/Github-Desktop-cannot-run-gpg-No-such-file-or-directory-%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" data-id="ckguvtbob0001n4ljc0v68nhi" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2020/01/21/Github-Desktop-cannot-run-gpg-No-such-file-or-directory-%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/" rel="tag">疑难杂症</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-购买VPS之后要做的几件事" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2019/06/16/%E8%B4%AD%E4%B9%B0VPS%E4%B9%8B%E5%90%8E%E8%A6%81%E5%81%9A%E7%9A%84%E5%87%A0%E4%BB%B6%E4%BA%8B/" class="article-date">
  <time datetime="2019-06-16T15:53:50.000Z" itemprop="datePublished">2019-06-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2019/06/16/%E8%B4%AD%E4%B9%B0VPS%E4%B9%8B%E5%90%8E%E8%A6%81%E5%81%9A%E7%9A%84%E5%87%A0%E4%BB%B6%E4%BA%8B/">购买VPS之后要做的几件事</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="配置用户账户"><a href="#配置用户账户" class="headerlink" title="配置用户账户"></a>配置用户账户</h2><p>刚买的 VPS，系统给你的肯定只有一个 root 账户，但是一般不要用 root 账户来登录，可能存在安全风险。所以我们这里就来创建一个新用户用来登录。由于这时候用的是 root 账户来操作，所以这里的命令不需要在前面加 sudo。有的系统管理员组叫做 wheel，有的叫做 sudo，大家根据自己的 VPS 系统来选择。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd yitian -m -G sudo,wheel</span><br></pre></td></tr></table></figure>

<p>创建完用户之后，别忘了为用户添加密码，为了安全，密码应该设置的比较复杂，最好使用密码管理软件生成强密码，反正照着这里设置的话，可能以后再也用不到这个密码了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd yitian</span><br></pre></td></tr></table></figure>

<p>如果你怕麻烦，现在就可以设置免密码输入 sudo 命令。首先打开 sudoers 文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure>

<p>然后找到类似下面的一行，然后在后面的<code>ALL</code>之前添加<code>NOPASSWD:</code>，改为下面这样的。这个操作一定要注意，整错了可能就没办法登录 VPS 了。设置成功的话，sudo 组里的用户就再也不需要输入密码确认了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%sudo   ALL&#x3D;(ALL:ALL) NOPASSWD: ALL</span><br></pre></td></tr></table></figure>

<p>现在，使用刚刚创建的用户登录。可以顺便测试一下 sudo 命令，不需要输入密码就是爽！但是在使用 SSH 登录的时候还是需要密码来登录，所以现在就来设置免密码登录 SSH。</p>
<p>首先打开 SSH 的配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br></pre></td></tr></table></figure>

<p>找到下面一行，去掉前面的注释，开启公钥登录功能：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PubkeyAuthentication yes</span><br></pre></td></tr></table></figure>

<p>然后打开本用户的用户目录下的 ssh 文件夹，没有则创建。在其中新建验证文件并输入你的 SSH 公钥。公钥文件就是你当前操作系统下<code>.ssh/id_rsa.pub</code>文件里的内容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano .ssh&#x2F;authorized_keys</span><br></pre></td></tr></table></figure>

<p>完成之后，重启 SSH 服务，然后退出用户并重新登录一下，应该可以看到不再需要密码就可以登录了。好了，现在你可以把刚刚的用户密码忘掉了，这样一来，几乎没人可以登录你的系统了，安全性妥妥的。甚至你可以做的绝一点，在 SSH 配置文件里直接禁用 ROOT 账户登录和密码登录，这样安全性几乎为 100%。但是这样做的问题就是一旦你的密钥对丢失（虽然这种情况几乎不可能发生），包括你自己都无法登录了。所以怎么做还是得看自己取舍。</p>
<h2 id="升级系统"><a href="#升级系统" class="headerlink" title="升级系统"></a>升级系统</h2><p>前面的做完了，下面就是系统维护工作了。首先是升级系统，刚安装的 VPS 系统一般都是比较老的，更新到最新可以体验系统的各项新功能。</p>
<p>如果是 Ubuntu：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure>

<h2 id="安装必要软件"><a href="#安装必要软件" class="headerlink" title="安装必要软件"></a>安装必要软件</h2><p>如果是 Ubuntu：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install zsh git python3-pip screenfetch</span><br></pre></td></tr></table></figure>

<p>如果你想的话还可以安装 oh-my-zsh：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(wget https:&#x2F;&#x2F;raw.github.com&#x2F;robbyrussell&#x2F;oh-my-zsh&#x2F;master&#x2F;tools&#x2F;install.sh -O -)&quot;</span><br></pre></td></tr></table></figure>

<h2 id="安装并配置-shadowsocks"><a href="#安装并配置-shadowsocks" class="headerlink" title="安装并配置 shadowsocks"></a>安装并配置 shadowsocks</h2><p>之前我用 Ubuntu 的时候，pip 里面的 shadowsocks 要比 Ubuntu 源里的更新。但是不知道为啥原因 pip 里面的影梭停更了，到了 Ubuntu 18.04，现在 Ubuntu 里的已经是更新的了。所以我们安装的时候，直接从 Ubuntu 源里安装就行了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install shadowsocks</span><br></pre></td></tr></table></figure>

<p>然后随便建一个文件夹，准备存放翻墙软件的配置文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir fq</span><br><span class="line">cd fq</span><br></pre></td></tr></table></figure>

<p>首先新建一个影梭的配置文件，比方说就叫<code>ss.json</code>。为了保证不被封，最好将端口号改一下，密码也改成一个比较复杂的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;: &quot;0.0.0.0&quot;,</span><br><span class="line">    &quot;server_port&quot;: 8388,</span><br><span class="line">    &quot;local_address&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">    &quot;local_port&quot;: 1080,</span><br><span class="line">    &quot;password&quot;: &quot;mypassword&quot;,</span><br><span class="line">    &quot;timeout&quot;: 300,</span><br><span class="line">    &quot;method&quot;: &quot;aes-256-cfb&quot;,</span><br><span class="line">    &quot;fast_open&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了让影梭开机自动启动，我们可能还需要安装一些软件。如果是 Ubuntu 系统，可以在<code>/etc/local.rc</code>文件中添加开机脚本。或者向这里介绍的一样使用任务管理软件 supervisor。首先安装 supervisor：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install supervisor</span><br></pre></td></tr></table></figure>

<p>然后添加 ss 的配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano &#x2F;etc&#x2F;supervisor&#x2F;conf.d&#x2F;ss.conf</span><br></pre></td></tr></table></figure>

<p>配置文件内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[program:ss]</span><br><span class="line">command&#x3D;ssserver -c &#x2F;home&#x2F;yitian&#x2F;fq&#x2F;ss.json</span><br><span class="line">autostart&#x3D;true</span><br></pre></td></tr></table></figure>

<p>然后重启 supervisor 服务，就可以看到影梭成功启动了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart supervisor</span><br><span class="line">sudo supervisorctl restart ss</span><br></pre></td></tr></table></figure>

<h2 id="关于-kcptun"><a href="#关于-kcptun" class="headerlink" title="关于 kcptun"></a>关于 kcptun</h2><p>我现在用的服务器是 Hostwinds，速度还是挺快的，所以就不安装 kcptun 了。而且说实话 kcptun 安装起来太麻烦了，首先需要服务端下载、配置、设置自启，然后将配置文件传回电脑端，在电脑端上也下载客户端、配置、设置自启，这么一通下来也没啥用。所以我就先这么用了。等到将来速度不行的时候，我再配置一下 kcptun。不过我感觉过了 6 月搬瓦工应该就解禁了，没必要现在设置地这么麻烦。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2019/06/16/%E8%B4%AD%E4%B9%B0VPS%E4%B9%8B%E5%90%8E%E8%A6%81%E5%81%9A%E7%9A%84%E5%87%A0%E4%BB%B6%E4%BA%8B/" data-id="ckguvtbp70019n4ljfs9p9qov" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2019/06/16/%E8%B4%AD%E4%B9%B0VPS%E4%B9%8B%E5%90%8E%E8%A6%81%E5%81%9A%E7%9A%84%E5%87%A0%E4%BB%B6%E4%BA%8B/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-更新Manjaro出现Gpgme错误，无效的加密引擎的解决办法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2019/03/06/%E6%9B%B4%E6%96%B0Manjaro%E5%87%BA%E7%8E%B0Gpgme%E9%94%99%E8%AF%AF%EF%BC%8C%E6%97%A0%E6%95%88%E7%9A%84%E5%8A%A0%E5%AF%86%E5%BC%95%E6%93%8E%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" class="article-date">
  <time datetime="2019-03-06T12:08:24.000Z" itemprop="datePublished">2019-03-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/my-static-blog/categories/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/">疑难杂症</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2019/03/06/%E6%9B%B4%E6%96%B0Manjaro%E5%87%BA%E7%8E%B0Gpgme%E9%94%99%E8%AF%AF%EF%BC%8C%E6%97%A0%E6%95%88%E7%9A%84%E5%8A%A0%E5%AF%86%E5%BC%95%E6%93%8E%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">更新Manjaro出现Gpgme错误，无效的加密引擎的解决办法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>虽然装了双系统，但是平时我用的主要还是 Windows 系统，另外一个 Manjaro 好久没更新了，这几天忽然想起来，于是赶紧打开更新。果然，滚动式更新时间一长想要在更新的话肯定会出问题。这次遇到的问题是更新到一半图形界面会突然挂掉。前几天更新台式机的时候同样也遇到了这个错误，不过切一下终端，然后在终端里面更新完就好了。没想到笔记本这次遇到问题了，由于平时我设置的 locale 是中文，在笔记本屏幕上还显示成了一堆方块，没办法还得在台式机上 SSH 过去。</p>
<p>笔记本上遇到的问题是“Gpgme 错误，无效的加密引擎”，英文错误信息是“manjaro gpgme error invalid crypto engine”，谷歌一下果然有很多类似信息，这下就方便多了。不过由于我之前瞎试了几次，走了不少弯路。在此直接说解决办法吧。首先这个错误原因我猜测是在图形界面挂掉的时候正好碰到 gpg 这些软件更新，然后导致 gpg 数据库损坏，进而 pacman 无法安装软件。那么解决办法就很明显了，修复 gpg 软件即可。具体可参考<a href="https://wiki.manjaro.org/index.php/Pacman_troubleshooting#Errors_about_Keys" target="_blank" rel="noopener">官方文档</a>。</p>
<hr>
<p>首先删除掉 pacman 原来的可能已经损坏的 key。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -r &#x2F;etc&#x2F;pacman.d&#x2F;gnupg</span><br></pre></td></tr></table></figure>

<p>然后重新安装密钥环，一开始我搜索到的解决方案和这个类似，不过没有 gnupg，所以一直失败。这一点上还是官方文档比较好。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Sy gnupg archlinux-keyring manjaro-keyring</span><br></pre></td></tr></table></figure>

<p>然后重新初始化密钥环。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman-key --init</span><br></pre></td></tr></table></figure>

<p>然后加载那些密钥。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman-key --populate archlinux manjaro</span><br></pre></td></tr></table></figure>

<p>最后一步是可选的，删除那些密钥损坏时下载的软件包。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Sc</span><br></pre></td></tr></table></figure>

<p>经过这么几步，我终于成功修复了 Manjaro，然后在终端中更新系统并重启之后，终于成功再次进入了 Manjaro 图形界面，真是可喜可贺！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2019/03/06/%E6%9B%B4%E6%96%B0Manjaro%E5%87%BA%E7%8E%B0Gpgme%E9%94%99%E8%AF%AF%EF%BC%8C%E6%97%A0%E6%95%88%E7%9A%84%E5%8A%A0%E5%AF%86%E5%BC%95%E6%93%8E%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" data-id="ckguvtbp1000un4lj2qt6239e" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2019/03/06/%E6%9B%B4%E6%96%B0Manjaro%E5%87%BA%E7%8E%B0Gpgme%E9%94%99%E8%AF%AF%EF%BC%8C%E6%97%A0%E6%95%88%E7%9A%84%E5%8A%A0%E5%AF%86%E5%BC%95%E6%93%8E%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/" rel="tag">疑难杂症</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-FC游戏AV麻将俱乐部牌型表" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2019/03/06/FC%E6%B8%B8%E6%88%8FAV%E9%BA%BB%E5%B0%86%E4%BF%B1%E4%B9%90%E9%83%A8%E7%89%8C%E5%9E%8B%E8%A1%A8/" class="article-date">
  <time datetime="2019-03-05T16:43:50.000Z" itemprop="datePublished">2019-03-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/my-static-blog/categories/%E6%B8%B8%E6%88%8F/">游戏</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2019/03/06/FC%E6%B8%B8%E6%88%8FAV%E9%BA%BB%E5%B0%86%E4%BF%B1%E4%B9%90%E9%83%A8%E7%89%8C%E5%9E%8B%E8%A1%A8/">FC游戏AV麻将俱乐部牌型表</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>老早以前玩过一个 FC 双人麻将游戏，能用点数买好牌，很好玩的游戏，可惜看不懂日文搞不清意思。今天废了老大劲对着词典终于把牌名全搞懂了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">一：</span><br><span class="line">一色通顺（两个相同的顺子）</span><br><span class="line">平和（四组顺子和刻）</span><br><span class="line">断幺九（没有幺九牌（一九数牌和字牌））</span><br><span class="line">换牌</span><br><span class="line"></span><br><span class="line">二：</span><br><span class="line">七将（七个对子）</span><br><span class="line">三色通顺</span><br><span class="line">混全带幺九</span><br><span class="line"></span><br><span class="line">三：</span><br><span class="line">一气通贯</span><br><span class="line">三色同刻</span><br><span class="line"></span><br><span class="line">四：</span><br><span class="line">混一色（一种数牌和字牌）</span><br><span class="line">混老头</span><br><span class="line">小三元</span><br><span class="line"></span><br><span class="line">八：</span><br><span class="line">绿一色</span><br><span class="line">四喜和</span><br><span class="line">清老头</span><br><span class="line">字一色</span><br><span class="line">九莲宝灯</span><br><span class="line">国士无双</span><br></pre></td></tr></table></figure>

<img src="/my-static-blog/2019/03/06/FC%E6%B8%B8%E6%88%8FAV%E9%BA%BB%E5%B0%86%E4%BF%B1%E4%B9%90%E9%83%A8%E7%89%8C%E5%9E%8B%E8%A1%A8/%E7%89%8C%E5%9E%8B%E8%A1%A8.png" class="" title="牌型表">

      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2019/03/06/FC%E6%B8%B8%E6%88%8FAV%E9%BA%BB%E5%B0%86%E4%BF%B1%E4%B9%90%E9%83%A8%E7%89%8C%E5%9E%8B%E8%A1%A8/" data-id="ckguvtbo30000n4lj5r9vgx9i" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2019/03/06/FC%E6%B8%B8%E6%88%8FAV%E9%BA%BB%E5%B0%86%E4%BF%B1%E4%B9%90%E9%83%A8%E7%89%8C%E5%9E%8B%E8%A1%A8/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/%E6%B8%B8%E6%88%8F/" rel="tag">游戏</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Win10系统无法访问局域网文件的解决办法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/my-static-blog/2018/12/24/Win10%E7%B3%BB%E7%BB%9F%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E5%B1%80%E5%9F%9F%E7%BD%91%E6%96%87%E4%BB%B6%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" class="article-date">
  <time datetime="2018-12-24T13:46:11.000Z" itemprop="datePublished">2018-12-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/my-static-blog/categories/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/">疑难杂症</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/my-static-blog/2018/12/24/Win10%E7%B3%BB%E7%BB%9F%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E5%B1%80%E5%9F%9F%E7%BD%91%E6%96%87%E4%BB%B6%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">Win10系统无法访问局域网文件的解决办法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近重装了系统，发现无法访问小米路由器连接的移动硬盘了，而且连我局域网里的笔记本的共享文件都没办法访问了。经过一番研究，发现是Win10默认关闭了SMB文件共享，只要打开即可。</p>
<p>方法很简单，打开控制面板-&gt;程序和功能-&gt;添加或关闭Windows功能，然后搜索找到SMB1.0/CIFS文件共享支持，打开即可，然后重启电脑，应该就可以看到共享文件夹了。</p>
<img src="/my-static-blog/2018/12/24/Win10%E7%B3%BB%E7%BB%9F%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E5%B1%80%E5%9F%9F%E7%BD%91%E6%96%87%E4%BB%B6%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/feature.png" class="" title="添加和删除功能">
      
    </div>
    <footer class="article-footer">
      <a data-url="https://techstay.github.io/my-static-blog/2018/12/24/Win10%E7%B3%BB%E7%BB%9F%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E5%B1%80%E5%9F%9F%E7%BD%91%E6%96%87%E4%BB%B6%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" data-id="ckguvtbog0004n4ljhmi98aq7" class="article-share-link">Share</a>
      
        <a href="https://techstay.github.io/my-static-blog/2018/12/24/Win10%E7%B3%BB%E7%BB%9F%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E5%B1%80%E5%9F%9F%E7%BD%91%E6%96%87%E4%BB%B6%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-static-blog/tags/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/" rel="tag">疑难杂症</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/my-static-blog/page/2/">2</a><a class="extend next" rel="next" href="/my-static-blog/page/2/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/my-static-blog/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/my-static-blog/categories/%E5%89%8D%E7%AB%AF/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/my-static-blog/categories/%E6%B8%B8%E6%88%8F/">游戏</a></li><li class="category-list-item"><a class="category-list-link" href="/my-static-blog/categories/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/">疑难杂症</a></li><li class="category-list-item"><a class="category-list-link" href="/my-static-blog/categories/%E7%BF%BB%E5%A2%99/">翻墙</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/gost/" rel="tag">gost</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/shadowsocks/" rel="tag">shadowsocks</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/%E4%BB%A3%E7%90%86%E5%B7%A5%E5%85%B7/" rel="tag">代理工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/%E5%BD%B1%E6%A2%AD/" rel="tag">影梭</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/%E6%B8%B8%E6%88%8F/" rel="tag">游戏</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/%E7%94%B5%E5%AD%90%E9%82%AE%E7%AE%B1/" rel="tag">电子邮箱</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/" rel="tag">疑难杂症</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/%E7%BF%BB%E5%A2%99/" rel="tag">翻墙</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-static-blog/tags/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/" rel="tag">静态博客</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/my-static-blog/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/my-static-blog/tags/gost/" style="font-size: 10px;">gost</a> <a href="/my-static-blog/tags/linux/" style="font-size: 15px;">linux</a> <a href="/my-static-blog/tags/shadowsocks/" style="font-size: 10px;">shadowsocks</a> <a href="/my-static-blog/tags/%E4%BB%A3%E7%90%86%E5%B7%A5%E5%85%B7/" style="font-size: 15px;">代理工具</a> <a href="/my-static-blog/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 15px;">前端</a> <a href="/my-static-blog/tags/%E5%BD%B1%E6%A2%AD/" style="font-size: 10px;">影梭</a> <a href="/my-static-blog/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 10px;">游戏</a> <a href="/my-static-blog/tags/%E7%94%B5%E5%AD%90%E9%82%AE%E7%AE%B1/" style="font-size: 10px;">电子邮箱</a> <a href="/my-static-blog/tags/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/" style="font-size: 20px;">疑难杂症</a> <a href="/my-static-blog/tags/%E7%BF%BB%E5%A2%99/" style="font-size: 15px;">翻墙</a> <a href="/my-static-blog/tags/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/" style="font-size: 15px;">静态博客</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-static-blog/archives/2017/11/">十一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/my-static-blog/2020/10/29/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7trojan-go%E7%AF%87/">翻墙工具trojan-go篇</a>
          </li>
        
          <li>
            <a href="/my-static-blog/2020/03/19/Ubuntu-18-04-VPS%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/">Ubuntu 18.04 VPS配置教程</a>
          </li>
        
          <li>
            <a href="/my-static-blog/2020/02/26/%E5%90%84%E5%A4%A7%E5%8F%91%E8%A1%8C%E7%89%88%E8%BD%AF%E4%BB%B6%E6%BA%90%E9%95%9C%E5%83%8F%E9%85%8D%E7%BD%AE/">各大发行版软件源镜像配置</a>
          </li>
        
          <li>
            <a href="/my-static-blog/2020/02/10/%E7%BF%BB%E5%A2%99%E5%B7%A5%E5%85%B7wireguard%E7%AF%87/">翻墙工具wireguard篇</a>
          </li>
        
          <li>
            <a href="/my-static-blog/2020/01/21/shadowsocks%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/">shadowsocks安装和配置</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 易天 &nbsp;
      <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>&nbsp;
      &nbsp;
      <span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人次</span>
      <br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/my-static-blog/" class="mobile-nav-link">Home</a>
  
    <a href="/my-static-blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'yitian-static-blog';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/my-static-blog/fancybox/jquery.fancybox.css">

  
<script src="/my-static-blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/my-static-blog/js/script.js"></script>




  </div>
<script src="/my-static-blog/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/my-static-blog/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>
</html>